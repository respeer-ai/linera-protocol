<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Helper types for tests."><title>linera_views::test_utils - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="linera_views" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../linera_views/index.html">linera_views</a><span class="version">0.11.0</span></h2></div><h2 class="location"><a href="#">Module test_utils</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section><h2><a href="../index.html">In crate linera_views</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">linera_views</a>::<wbr><a class="mod" href="#">test_utils</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/linera_views/test_utils/mod.rs.html#4-723">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Helper types for tests.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="test_views/index.html" title="mod linera_views::test_utils::test_views">test_views</a></div><div class="desc docblock-short">Some <a href="../views/trait.View.html" title="trait linera_views::views::View"><code>View</code></a>s that are easy to use with test cases.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.NonDeterministicRng.html" title="struct linera_views::test_utils::NonDeterministicRng">NonDeterministicRng</a></div><div class="desc docblock-short">A RNG that is non-deterministic if the platform supports it.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.admin_test.html" title="fn linera_views::test_utils::admin_test">admin_test</a></div><div class="desc docblock-short">Exercises the functionalities of the <code>AdminKeyValueStore</code>.
This tests everything except the <code>delete_all</code> which would
interact with other namespaces.</div></li><li><div class="item-name"><a class="fn" href="fn.generate_random_alphanumeric_string.html" title="fn linera_views::test_utils::generate_random_alphanumeric_string">generate_random_alphanumeric_string</a></div><div class="desc docblock-short">Get a random alphanumeric string that can be used for all tests.</div></li><li><div class="item-name"><a class="fn" href="fn.generate_test_namespace.html" title="fn linera_views::test_utils::generate_test_namespace">generate_test_namespace</a></div><div class="desc docblock-short">Returns a unique namespace for testing.</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_byte_vector.html" title="fn linera_views::test_utils::get_random_byte_vector">get_random_byte_vector</a></div><div class="desc docblock-short">Takes a random number generator, a key_prefix and extends it by n random bytes.</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_prefix.html" title="fn linera_views::test_utils::get_random_key_prefix">get_random_key_prefix</a></div><div class="desc docblock-short">Returns a random key_prefix used for tests</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_value_operations.html" title="fn linera_views::test_utils::get_random_key_value_operations">get_random_key_value_operations</a></div><div class="desc docblock-short">A bunch of puts and some deletes.</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_values.html" title="fn linera_views::test_utils::get_random_key_values">get_random_key_values</a></div><div class="desc docblock-short">Takes a random number generator rng, a number n and returns n random <code>(key, value)</code>
which are all distinct with key and value being of length 8.</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_key_values_prefix.html" title="fn linera_views::test_utils::get_random_key_values_prefix">get_random_key_values_prefix</a></div><div class="desc docblock-short">Takes a random number generator, a key_prefix and generates
pairs <code>(key, value)</code> with key obtained by appending 8 bytes at random to key_prefix
and value obtained by appending 8 bytes to the trivial vector.
We return n such <code>(key, value)</code> pairs which are all distinct</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_kset.html" title="fn linera_views::test_utils::get_random_kset">get_random_kset</a></div><div class="desc docblock-short">Builds a random k element subset of n</div></li><li><div class="item-name"><a class="fn" href="fn.get_random_test_scenarios.html" title="fn linera_views::test_utils::get_random_test_scenarios">get_random_test_scenarios</a></div><div class="desc docblock-short">We build a number of scenarios for testing the reads.</div></li><li><div class="item-name"><a class="fn" href="fn.get_small_key_space.html" title="fn linera_views::test_utils::get_small_key_space">get_small_key_space</a></div><div class="desc docblock-short">Appends a small value to a key making collisions likely.</div></li><li><div class="item-name"><a class="fn" href="fn.make_deterministic_rng.html" title="fn linera_views::test_utils::make_deterministic_rng">make_deterministic_rng</a></div><div class="desc docblock-short">Returns a deterministic RNG for testing.</div></li><li><div class="item-name"><a class="fn" href="fn.make_nondeterministic_rng.html" title="fn linera_views::test_utils::make_nondeterministic_rng">make_nondeterministic_rng</a></div><div class="desc docblock-short">Returns a non-deterministic RNG where supported.</div></li><li><div class="item-name"><a class="fn" href="fn.random_shuffle.html" title="fn linera_views::test_utils::random_shuffle">random_shuffle</a></div><div class="desc docblock-short">Shuffles the values entries randomly</div></li><li><div class="item-name"><a class="fn" href="fn.run_big_write_read.html" title="fn linera_views::test_utils::run_big_write_read">run_big_write_read</a></div><div class="desc docblock-short">DynamoDb has limits at 1M (for pagination), 4M (for write)
Let us go right past them at 20M of data with writing and then
reading it. And 20M is not huge by any mean. All KeyValueStore
must handle that.</div></li><li><div class="item-name"><a class="fn" href="fn.run_reads.html" title="fn linera_views::test_utils::run_reads">run_reads</a></div><div class="desc docblock-short">This test starts with a collection of key/values being inserted into the code
which is then followed by a number of reading tests. The functionalities being
tested are all the reading functionalities:</div></li><li><div class="item-name"><a class="fn" href="fn.run_test_batch_from_blank.html" title="fn linera_views::test_utils::run_test_batch_from_blank">run_test_batch_from_blank</a></div><div class="desc docblock-short">Writes and then reads data under a prefix, and verifies the result.</div></li><li><div class="item-name"><a class="fn" href="fn.run_writes_from_blank.html" title="fn linera_views::test_utils::run_writes_from_blank">run_writes_from_blank</a></div><div class="desc docblock-short">Run many operations on batches always starting from a blank state.</div></li><li><div class="item-name"><a class="fn" href="fn.run_writes_from_state.html" title="fn linera_views::test_utils::run_writes_from_state">run_writes_from_state</a></div><div class="desc docblock-short">Run some deterministic and random batches operation and check their
correctness</div></li><li><div class="item-name"><a class="fn" href="fn.span_random_reordering_put_delete.html" title="fn linera_views::test_utils::span_random_reordering_put_delete">span_random_reordering_put_delete</a></div><div class="desc docblock-short">A random reordering of the puts and deletes.
For something like MapView it should get us the same result whatever way we are calling.</div></li><li><div class="item-name"><a class="fn" href="fn.tombstone_triggering_test.html" title="fn linera_views::test_utils::tombstone_triggering_test">tombstone_triggering_test</a></div><div class="desc docblock-short">That test is especially challenging for ScyllaDB.
In its default settings, Scylla has a limitation to 10000 tombstones.
A tombstone is an indication that the data has been deleted. That
is thus a trie data structure for checking whether a requested key
is deleted or not.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Aliases</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.DeterministicRng.html" title="type linera_views::test_utils::DeterministicRng">DeterministicRng</a></div><div class="desc docblock-short">A deterministic RNG.</div></li></ul></section></div></main></body></html>