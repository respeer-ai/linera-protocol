<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The definition of the batches for writing in the database. A set of functionalities for building batches to be written into the database. A batch can contain three kinds of operations on a key/value store:"><title>linera_views::batch - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="linera_views" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../linera_views/index.html">linera_views</a><span class="version">0.11.0</span></h2></div><h2 class="location"><a href="#">Module batch</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section><h2><a href="../index.html">In crate linera_views</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">linera_views</a>::<wbr><a class="mod" href="#">batch</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/linera_views/batch.rs.html#4-729">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The definition of the batches for writing in the database.
A set of functionalities for building batches to be written into the database.
A batch can contain three kinds of operations on a key/value store:</p>
<ul>
<li>Insertion of a key with an associated value</li>
<li>Deletion of a specific key</li>
<li>Deletion of all keys which contain a specified prefix</li>
</ul>
<p>The deletion using prefixes is generally but not always faster than deleting keys
one by one. The only purpose of the batch is to write some transactions into the
database.</p>
<p>Note that normal users should not have to manipulate batches. The functionality
is public because some other libraries require it. But the users using views should
not have to deal with batches.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Batch.html" title="struct linera_views::batch::Batch">Batch</a></div><div class="desc docblock-short">A batch of write operations.</div></li><li><div class="item-name"><a class="struct" href="struct.SimpleUnorderedBatch.html" title="struct linera_views::batch::SimpleUnorderedBatch">SimpleUnorderedBatch</a></div><div class="desc docblock-short">A batch of deletions and insertions that operate on disjoint keys, thus can be
executed in any order.</div></li><li><div class="item-name"><a class="struct" href="struct.SimpleUnorderedBatchIter.html" title="struct linera_views::batch::SimpleUnorderedBatchIter">SimpleUnorderedBatchIter</a></div><div class="desc docblock-short">The iterator that corresponds to a SimpleUnorderedBatch</div></li><li><div class="item-name"><a class="struct" href="struct.UnorderedBatch.html" title="struct linera_views::batch::UnorderedBatch">UnorderedBatch</a></div><div class="desc docblock-short">An unordered batch of deletions and insertions, together with a set of key-prefixes to
delete. Key-prefix deletions must happen before the insertions and the deletions.</div></li><li><div class="item-name"><a class="struct" href="struct.UnorderedBatchIter.html" title="struct linera_views::batch::UnorderedBatchIter">UnorderedBatchIter</a></div><div class="desc docblock-short">The iterator that corresponds to a SimpleUnorderedBatch</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.WriteOperation.html" title="enum linera_views::batch::WriteOperation">WriteOperation</a></div><div class="desc docblock-short">A write operation as requested by a view when it needs to persist staged changes.
There are 3 possibilities for the batch:</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.BatchValueWriter.html" title="trait linera_views::batch::BatchValueWriter">BatchValueWriter</a></div><div class="desc docblock-short">An iterator-like object that can write values one by one to a batch while updating the
total size of the batch.</div></li><li><div class="item-name"><a class="trait" href="trait.DeletePrefixExpander.html" title="trait linera_views::batch::DeletePrefixExpander">DeletePrefixExpander</a></div><div class="desc docblock-short">A trait to expand delete_prefix operations.
Certain databases (e.g. DynamoDB) do not support the deletion by prefix.
Thus we need to access the databases in order to replace a <code>DeletePrefix</code>
by a vector of the keys to be removed.</div></li><li><div class="item-name"><a class="trait" href="trait.LocalDeletePrefixExpander.html" title="trait linera_views::batch::LocalDeletePrefixExpander">LocalDeletePrefixExpander</a></div><div class="desc docblock-short">A trait to expand delete_prefix operations.
Certain databases (e.g. DynamoDB) do not support the deletion by prefix.
Thus we need to access the databases in order to replace a <code>DeletePrefix</code>
by a vector of the keys to be removed.</div></li><li><div class="item-name"><a class="trait" href="trait.SimplifiedBatch.html" title="trait linera_views::batch::SimplifiedBatch">SimplifiedBatch</a></div><div class="desc docblock-short">A notion of batch useful for certain computations (notably journaling).</div></li></ul></section></div></main></body></html>