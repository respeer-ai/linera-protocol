<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `regalloc2` crate."><title>regalloc2 - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="regalloc2" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../regalloc2/index.html">regalloc2</a><span class="version">0.3.2</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">regalloc2</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/regalloc2/lib.rs.html#13-1472">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="checker/index.html" title="mod regalloc2::checker">checker</a></div><div class="desc docblock-short">Checker: verifies that spills/reloads/moves retain equivalent
dataflow to original, VReg-based code.</div></li><li><div class="item-name"><a class="mod" href="indexset/index.html" title="mod regalloc2::indexset">indexset</a></div><div class="desc docblock-short">Index sets: sets of integers that represent indices into a space.</div></li></ul><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.define_index.html" title="macro regalloc2::define_index">define_index</a></div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Allocation.html" title="struct regalloc2::Allocation">Allocation</a></div><div class="desc docblock-short">An Allocation represents the end result of regalloc for an
Operand.</div></li><li><div class="item-name"><a class="struct" href="struct.Block.html" title="struct regalloc2::Block">Block</a></div></li><li><div class="item-name"><a class="struct" href="struct.Inst.html" title="struct regalloc2::Inst">Inst</a></div></li><li><div class="item-name"><a class="struct" href="struct.InstRange.html" title="struct regalloc2::InstRange">InstRange</a></div></li><li><div class="item-name"><a class="struct" href="struct.InstRangeIter.html" title="struct regalloc2::InstRangeIter">InstRangeIter</a></div></li><li><div class="item-name"><a class="struct" href="struct.MachineEnv.html" title="struct regalloc2::MachineEnv">MachineEnv</a></div><div class="desc docblock-short">A machine envrionment tells the register allocator which registers
are available to allocate and what register may be used as a
scratch register for each class, and some other miscellaneous info
as well.</div></li><li><div class="item-name"><a class="struct" href="struct.Operand.html" title="struct regalloc2::Operand">Operand</a></div><div class="desc docblock-short">An <code>Operand</code> encodes everything about a mention of a register in
an instruction: virtual register number, and any constraint that
applies to the register at this program point.</div></li><li><div class="item-name"><a class="struct" href="struct.Output.html" title="struct regalloc2::Output">Output</a></div><div class="desc docblock-short">The output of the register allocator.</div></li><li><div class="item-name"><a class="struct" href="struct.OutputIter.html" title="struct regalloc2::OutputIter">OutputIter</a></div><div class="desc docblock-short">Iterator over the instructions and edits in a block.</div></li><li><div class="item-name"><a class="struct" href="struct.PReg.html" title="struct regalloc2::PReg">PReg</a></div><div class="desc docblock-short">A physical register. Contains a physical register number and a class.</div></li><li><div class="item-name"><a class="struct" href="struct.PRegSet.html" title="struct regalloc2::PRegSet">PRegSet</a></div><div class="desc docblock-short">A physical register set. Used to represent clobbers
efficiently.</div></li><li><div class="item-name"><a class="struct" href="struct.PRegSetIter.html" title="struct regalloc2::PRegSetIter">PRegSetIter</a></div></li><li><div class="item-name"><a class="struct" href="struct.ProgPoint.html" title="struct regalloc2::ProgPoint">ProgPoint</a></div><div class="desc docblock-short">A program point: a single point before or after a given instruction.</div></li><li><div class="item-name"><a class="struct" href="struct.RegallocOptions.html" title="struct regalloc2::RegallocOptions">RegallocOptions</a></div><div class="desc docblock-short">Options for allocation.</div></li><li><div class="item-name"><a class="struct" href="struct.SpillSlot.html" title="struct regalloc2::SpillSlot">SpillSlot</a></div><div class="desc docblock-short">A spillslot is a space in the stackframe used by the allocator to
temporarily store a value.</div></li><li><div class="item-name"><a class="struct" href="struct.VReg.html" title="struct regalloc2::VReg">VReg</a></div><div class="desc docblock-short">A virtual register. Contains a virtual register number and a
class.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.AllocationKind.html" title="enum regalloc2::AllocationKind">AllocationKind</a></div><div class="desc docblock-short">An allocation is one of two “kinds” (or “none”): register or
spillslot/stack.</div></li><li><div class="item-name"><a class="enum" href="enum.Edit.html" title="enum regalloc2::Edit">Edit</a></div><div class="desc docblock-short">An instruction to insert into the program to perform some data movement.</div></li><li><div class="item-name"><a class="enum" href="enum.InstOrEdit.html" title="enum regalloc2::InstOrEdit">InstOrEdit</a></div><div class="desc docblock-short">Wrapper around either an original instruction or an inserted edit.</div></li><li><div class="item-name"><a class="enum" href="enum.InstPosition.html" title="enum regalloc2::InstPosition">InstPosition</a></div><div class="desc docblock-short">A position before or after an instruction at which we can make an
edit.</div></li><li><div class="item-name"><a class="enum" href="enum.OperandConstraint.html" title="enum regalloc2::OperandConstraint">OperandConstraint</a></div><div class="desc docblock-short">An <code>OperandConstraint</code> specifies where a vreg’s value must be
placed at a particular reference to that vreg via an
<code>Operand</code>. The constraint may be loose – “any register of a given
class”, for example – or very specific, such as “this particular
physical register”. The allocator’s result will always satisfy all
given constraints; however, if the input has a combination of
constraints that are impossible to satisfy, then allocation may
fail or the allocator may panic (providing impossible constraints
is usually a programming error in the client, rather than a
function of bad input).</div></li><li><div class="item-name"><a class="enum" href="enum.OperandKind.html" title="enum regalloc2::OperandKind">OperandKind</a></div><div class="desc docblock-short">The “kind” of the operand: whether it reads a vreg (Use), writes a
vreg (Def), or reads and then writes (Mod, for “modify”).</div></li><li><div class="item-name"><a class="enum" href="enum.OperandPos.html" title="enum regalloc2::OperandPos">OperandPos</a></div><div class="desc docblock-short">The “position” of the operand: where it has its read/write
effects. These are positions “in” the instruction, and “early” and
“late” are relative to the instruction’s main effect or
computation. In other words, the allocator assumes that the
instruction (i) performs all reads and writes of “early” operands,
(ii) does its work, and (iii) performs all reads and writes of its
“late” operands.</div></li><li><div class="item-name"><a class="enum" href="enum.RegAllocError.html" title="enum regalloc2::RegAllocError">RegAllocError</a></div><div class="desc docblock-short">An error that prevents allocation.</div></li><li><div class="item-name"><a class="enum" href="enum.RegClass.html" title="enum regalloc2::RegClass">RegClass</a></div><div class="desc docblock-short">Register classes.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Function.html" title="trait regalloc2::Function">Function</a></div><div class="desc docblock-short">A trait defined by the regalloc client to provide access to its
machine-instruction / CFG representation.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.run.html" title="fn regalloc2::run">run</a></div><div class="desc docblock-short">Run the allocator.</div></li></ul></section></div></main></body></html>